<!DOCTYPE html>
<html>
  <head>
    <title>npmcdn</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    body {
      font: 14px Helvetica, sans-serif;
      line-height: 1.5;
      padding: 5px 20px;
    }
    @media all and (min-width: 660px) {
      body {
        padding: 50px 20px;
      }
    }
    header, #wrapper, .wrapper {
      max-width: 600px;
      margin: 0 auto;
    }
    header {
      text-align: center;
    }
    code {
      background: #eee;
    }
    table {
      border-color: black;
      border-style: solid;
      border-width: 0 0 1px 1px;
    }
    table th, table td {
      text-align: left;
      vertical-align: top;
      padding: 5px 7px;
      border-color: black;
      border-style: solid;
      border-width: 1px 1px 0 0;
    }
    </style>
  </head>
  <body>
    <header>
      <h1>npmcdn</h1>
    </header>
    <section id="wrapper">
      <p>npmcdn is a CDN for packages that are published via <a href="https://www.npmjs.com/">npm</a>. Use it to quickly and easily load files using a simple URL like <code>https://npmcdn.com/package@version/path/to/file</code>.</p>
      <p>A few examples:</p>
      <ul>
        <li><a href="/react@0.14.2/dist/react.min.js">https://npmcdn.com/react@0.14.2/dist/react.min.js</a></li>
        <li><a href="/react-dom@0.14.2/dist/react-dom.min.js">https://npmcdn.com/react-dom@0.14.2/dist/react-dom.min.js</a></li>
        <li><a href="/history@1.12.5/umd/History.min.js">https://npmcdn.com/history@1.12.5/umd/History.min.js</a></li>
        <li><a href="/react-router@1.0.0/umd/ReactRouter.min.js">https://npmcdn.com/react-router@1.0.0/umd/ReactRouter.min.js</a></li>
      </ul>

      <p>You may also use a <a href="https://docs.npmjs.com/cli/dist-tag">tag</a> or <a href="https://docs.npmjs.com/misc/semver">version range</a> instead of a fixed version number, or omit the version/tag entirely to use the <code>latest</code> tag.</p>
      <ul>
        <li><a href="/react@^0.14/dist/react.min.js">https://npmcdn.com/react@^0.14/dist/react.min.js</a></li>
        <li><a href="/react/dist/react.min.js">https://npmcdn.com/react/dist/react.min.js</a></li>
      </ul>

      <p>If you omit the file path, the <a href="https://docs.npmjs.com/files/package.json#main">main module</a> will be returned. This is especially useful for loading libaries that publish a UMD build as their main module.</p>
      <ul>
        <li><a href="/three.js">https://npmcdn.com/three.js</a></li>
        <li><a href="/jquery">https://npmcdn.com/jquery</a></li>
        <li><a href="/angular-formly">https://npmcdn.com/angular-formly</a></li>
      </ul>

      <h3>Query Parameters</h3>
      <table cellpadding="0" cellspacing="0">
        <thead>
          <tr>
            <th width="80px">Name</th>
            <th width="120px">Default Value</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>main</code></td>
            <td><code>main</code></td>
            <td>The name of the field in <a href="https://docs.npmjs.com/files/package.json">package.json</a> to use as the main entry point when there is no file path in the URL. This value may be dot-separated to specify a nested field (e.g. <code>?main=config.browserMain</code>).</td>
          </tr>
        </tbody>
      </table>

      <h3>Suggested Workflow</h3>
      <p>For npm package authors, npmcdn relieves the burden of publishing your code to a CDN in addition to the npm registry. All you need to do is include your <a href="https://github.com/umdjs/umd">UMD</a> build in your npm package (not your repo, that's different!).</p>
      <p>You can do this easily using the following setup:</p>
      <ul>
        <li>Add the <code>umd</code> (or <code>dist</code>) directory to your <code>.gitignore</code> file</li>
        <li>Make sure you have a separate <code>.npmignore</code> file that <b>does not</b> list the <code>umd</code> directory. If you don't have an <code>.npmignore</code>, npm will attempt to ignore everything in your <code>.gitignore</code> when you <code>npm publish</code></li>
        <li>Use a build script to generate your UMD build in the <code>umd</code> directory just before you publish. Your first thought might be to use npm's <code>prepublish</code> script for that, but I'd recommend you just use a separate build script, like <a href="https://github.com/mjackson/expect/blob/master/scripts/release.sh">this one</a> because prepublish <a href="https://github.com/npm/npm/issues/3059">can also run when you don't expect it to</a></li>
        <li>That's it! Now when you <code>npm publish</code> you'll have a version available on npmcdn as well</li>
      </ul>

      <h3>Feedback</h3>
      <p>If you think this is useful, I'd love to hear from you. Please reach out to <a href="https://twitter.com/mjackson">@mjackson</a> with any questions/concerns.</p>
    </section>
  </body>
</html>
